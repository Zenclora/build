#!/bin/bash

GREEN='\033[0;32m'
NC='\033[0m'

echo -e "${GREEN}==========================================${NC}"
echo -e "${GREEN}    Zenclora Steam Installer              ${NC}"
echo -e "${GREEN}==========================================${NC}"

echo "1. Adding i386 architecture..."
sudo dpkg --add-architecture i386

echo "2. Downloading and adding Steam GPG key..."
curl -s http://repo.steampowered.com/steam/archive/stable/steam.gpg | sudo tee /usr/share/keyrings/steam.gpg > /dev/null

echo "3. Adding Steam repository..."
sudo tee /etc/apt/sources.list.d/steam-stable.list <<'EOF'
deb [arch=amd64,i386 signed-by=/usr/share/keyrings/steam.gpg] https://repo.steampowered.com/steam/ stable steam
deb-src [arch=amd64,i386 signed-by=/usr/share/keyrings/steam.gpg] https://repo.steampowered.com/steam/ stable steam
EOF

echo "4. Updating package lists..."
sudo apt update

echo "5. Installing Steam dependencies..."
sudo apt install -y mesa-vulkan-drivers libglx-mesa0:i386 mesa-vulkan-drivers:i386 libgl1-mesa-dri:i386

echo "6. Installing Steam Launcher..."
sudo apt install -y steam-launcher

echo -e "${GREEN}==========================================${NC}"
echo -e "${GREEN}   Steam Installation Finished!           ${NC}"
echo -e "${GREEN}==========================================${NC}"

