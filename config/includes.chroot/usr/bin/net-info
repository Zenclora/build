#!/bin/bash

# Zenclora Net Info Utility
# Displays detailed network information quickly.

# Colors
CYAN='\033[0;36m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BOLD='\033[1m'
NC='\033[0m'

clear
echo -e "${CYAN}${BOLD}==========================================${NC}"
echo -e "${CYAN}${BOLD}         Zenclora Network Info            ${NC}"
echo -e "${CYAN}${BOLD}==========================================${NC}"

# Internal IP & Interfaces
echo -e "${YELLOW}[ Local Interfaces ]${NC}"
ip -4 -br addr show | awk '{printf "  %-10s %s\n", $1, $3}'

# Gateway / Router
echo -e "\n${YELLOW}[ Gateway / Router ]${NC}"
ip route | grep default | awk '{printf "  Default Gateway: %s via %s\n", $3, $5}'

# Public IP 
echo -e "\n${YELLOW}[ External Connection ]${NC}"
PUBLIC_IP=$(curl -s --connect-timeout 5 https://ifconfig.me || echo "Offline")
echo -e "  Public IP: $PUBLIC_IP"

# DNS Servers
echo -e "\n${YELLOW}[ DNS Servers ]${NC}"
grep "nameserver" /etc/resolv.conf | awk '{print "  " $0}'

# Active Connections Summary
echo -e "\n${YELLOW}[ Network Stats ]${NC}"
echo -e "  Active Connections: $(ss -tun | grep -c ESTAB)"
echo -e "  Listening Ports (TCP): $(ss -tln | grep -c LISTEN)"

echo -e "${CYAN}==========================================${NC}"
